<ng-container *ngIf="vm$ | async as vm">
  <section class="flex flex-col p-2">
    <h1 class="text-xl text-pink-700">All Collections</h1>
    <mat-divider></mat-divider>
    <mat-chip-list class="mt-4" color="primary">
      <mat-chip
        *ngFor="let collection of vm.collections"
        [matBadge]="collection.posts.length"
        (click)="onSelectCollection(collection.id)"
      >
        {{ collection.name }}
      </mat-chip>
    </mat-chip-list>
  </section>

  <section class="mt-4 border-t border-pink-400 p-2">
    <ng-container *ngIf="vm.selectedCollection">
      <h1 class="text-xl text-pink-700">
        {{ vm.selectedCollection?.name }}
      </h1>
      <mat-divider></mat-divider>
      <app-post-detail
        *ngFor="let postId of vm.selectedCollection.posts"
        [postId]="postId"
      ></app-post-detail>
    </ng-container>
  </section>
</ng-container>
